{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}
{% block stylesheets %}
    {{ include('common.html.twig') }}
    <link rel="stylesheet" type="text/css" href="{{ asset('media/styles/header.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ asset('media/styles/authpages.css') }}">
{% endblock %}

{% block body %}
    {{ include('components/header.html.twig') }}
    <div class="flex-col centered top-margined">
        <img src="{{ asset('media/images/user.jpg') }}" alt="Register image" class="title-pic-sm">
        <h1 class="title text-center">Registration</h1>
    </div>
    <div class="flex centered">
        <div class="flex-col centered regform-box bottom-margined30">
            {{ form_start(registrationForm) }}
            {% set formErrors = registrationForm.vars.errors.form.getErrors(true) %}
            {% if formErrors|length %}
                <div class="alert alert-danger">
                    <label>Can not register due to these errors:</label>
                    <ul>
                        {% for error in formErrors %}
                            <li>{{ error.message }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
            <div class="flex-col">
                <div class="form-group">
                    <label for="descriptionField">{{ form_label(registrationForm.description, 'Description') }}</label>
                    {{ form_widget(registrationForm.description, {'attr': {'class': 'form-control', 'id': 'descriptionField'}}) }}
                </div>
                <div class="form-group">
                    <label for="fileInput">Set profile picture</label>
                    {{ form_widget(registrationForm.userPic, {'attr': {'class': 'form-control-file', 'id': 'fileInput'}}) }}
                </div>
                <button class="btn btn-primary btn-lg bottom-margined30">Register</button>
            </div>
            {{ form_end(registrationForm) }}
            <a href="{{ path('') }}" target="_self">No, thanks</a>
        </div>
    </div>
{% endblock %}
